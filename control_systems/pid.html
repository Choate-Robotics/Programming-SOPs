
  <!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>PID Control | Programming Standard Operating Procedure  documentation</title>
  <link rel="stylesheet" href="../_static/pygments.css" />
  <link rel="stylesheet" href="../_static/theme.c973b470ab69573097f3.css" />
  <link rel="stylesheet" href="../_static/graphviz.css" />
  <link rel="stylesheet" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  <link rel="icon" href="../_static/7407logo.jfif" />
  <link rel="search" title="Search" href="../search.html" />
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="next" title="Profiled PID Control" href="profiled_pid.html" />
  <link rel="prev" title="robotpy-toolkit-7407" href="../code/toolkit.html" />
</head>

<body class="antialiased text-gray">
    <div id="page" data-controller="sidebar search scroll "
      data-action="keydown@window->search#focus "
      class="min-h-screen xl:h-screen flex flex-col xl:grid xl:grid-layout print:block print:h-auto"
    >
      <a class="block transition -translate-x-full focus:translate-x-0 opacity-0 focus:opacity-100 text-xl bg-white p-4 z-20 absolute top-0 left-0 h-14" href="#pid-control" title="Skip navigation links">Skip to content</a>

    <header class="grid-area-header z-10 h-14 fixed w-full top-0 print:hidden">
      <div class="bg-gray-dark shadow-md flex items-center h-full xl:px-2 relative"><div class="flex items-center">
    <button data-action="sidebar#open" data-sidebar-target="hamburger"
  class="xl:hidden h-14 w-14 leading-14 text-gray-100 hover:bg-gray-700 hover:text-brand focus:outline-none focus:bg-gray-700 focus:text-brand">
  <span class="sr-only">Open navigation menu</span>
  <svg aria-hidden="true" class="inline fill-current h-8 w-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
  </svg>
</button><a class="hover:bg-gray-700 focus:bg-gray-700 focus:outline-none" href="../index.html"
  title="Back to homepage">
  <img class="h-14 w-14 p-3 inline-block" src="../_static/7407logo.jfif" alt="Logo" /><span class="hidden lg:inline-block shrink-0 font-medium text-gray-100 mx-5 leading-14 tracking-wider">Programming Standard Operating Procedure  documentation</span>
</a></div><div class="flex justify-end items-center flex-1"><form
  id="searchbox"
  action="../search.html"
  data-action="click->search#focusSearchInput"
  method="get"
  class="flex print:hidden justify-between items-center leading-14 md:ml-4 bg-gray-dark text-gray-300 focus-within:bg-gray-50 focus-within:text-gray-800 focus-within:absolute focus-within:inset-x-0 focus-within:top-0 md:focus-within:w-full md:focus-within:static z-10">

  <button
    class="text-inherit h-14 w-14"
    aria-label="Get search results"
    tabindex="-1"
  >
    <svg aria-hidden="true" class="fill-current stroke-current h-8 w-8" stroke-width="0.5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
  </button>

  <input
    name="q"
    id="search-input"
    data-search-target="searchInput"
    type="search"
    aria-label="Search the docs"
    placeholder="Search the docs"
    class="pr-2 bg-transparent text-inherit focus:outline-none w-0 md:w-auto focus:w-full transition-all duration-100"
  />
</form></div>
</div>
    </header>

    
<aside data-sidebar-target="sidebar" class="grid-area-sidebar h-full fixed pt-14 xl:relative inset-y-0 left-0 z-20 xl:z-0 print:hidden overflow-y-auto transition-all transform transform-gpu -translate-x-full opacity-0 duration-300 xl:translate-x-0 xl:opacity-100">
  <nav
  role="navigation"
  class="h-full overflow-y-auto bg-white text-gray-600 pt-8 flex flex-col"
>
  <div class="nav-toc flex-1 pl-6"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Home</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.html">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction/index.html#welcome-to-the-choate-robotics-programming-documentation">Welcome to the Choate Robotics Programming Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">Install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html#software">Software</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html#ide">IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html#git-and-github">Git and Github</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html#other-software">Other Software</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../initial%20setup/index.html">Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../initial%20setup/index.html#we-ve-got-the-software-now-what">We’ve got the software… now what?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../git/creating_a_new_project.html">Creating a Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/grab_existing_project.html">grab an existing project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/file_structure.html">File Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/testing_code.html">Testing Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/deploying_code.html">Deploying Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/documentation.html">Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../code/documentation.html#robotpy-and-wpilib">RobotPy and WPILib</a></li>
<li class="toctree-l3"><a class="reference internal" href="../code/documentation.html#robotpy-toolkit-7407">robotpy-toolkit-7407</a></li>
<li class="toctree-l3"><a class="reference internal" href="../code/documentation.html#ctre-and-revrobotics">CTRE and REVRobotics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../code/documentation.html#limelight">Limelight</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/driverstation.html">Driver station</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hardware/driverstation.html#setup">Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html">Git and Github</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#what-is-it">What is it?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#how-does-our-team-use-it">How does our team use it?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../git/index.html#how-do-i-use-it">How do I use it?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../poetry/index.html">Poetry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#what-is-it">What is it?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#why-use-it">Why use it?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#poetry-vs-pip-and-virtualenv">Poetry vs Pip and Virtualenv</a></li>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#how-to-use-it">How to use it?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#how-to-share-your-project-with-others">How to share your project with others?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#how-choate-robotics-uses-poetry">How Choate Robotics uses Poetry:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/index.html">Hardware and Electronics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#system-diagram">System Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#core-components">Core Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#motor-controllers">Motor Controllers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#inputs">Inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#vision-processors">Vision Processors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networks/networktables.html">Networktables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../networks/networktables.html#communicating-from-the-roborio">Communicating from the RoboRIO:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../code/toolkit.html">Toolkit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../code/toolkit.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../code/toolkit.html#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">PID</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#why-do-we-need-pid-control">Why do we need PID control?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-of-pid-in-first-robotics">Use of PID in First Robotics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pid-control-theory">PID Control Theory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-pid-control-for-first-robotics">Creating PID Control for FIRST Robotics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tuning-the-pid-controller">Tuning the PID Controller</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="profiled_pid.html">Profiled PID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/swerve.html">Swerve Drive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/odometry.html">Odometry</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/index.html#welcome-to-the-choate-robotics-programming-documentation">Welcome to the Choate Robotics Programming Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../introduction/index.html#what-to-expect-in-this-documentation">What to expect in this documentation:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/index.html#what-you-need-to-know-before-you-start">What you need to know before you start:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/index.html#ready-to-get-started">Ready to get started?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/index.html#how-to-use-this-documentation">How to use this documentation:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../introduction/index.html#how-to-contribute-to-this-documentation">How to contribute to this documentation:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html#software">Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html#ide">IDE</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html#what-is-an-ide">What is an IDE?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html#vscode">VSCode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html#pycharm">PyCharm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html#vim">Vim</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html#git-and-github">Git and Github</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation/index.html#how-to-install-git"><strong>How to Install Git</strong></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html#other-software">Other Software</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../initial%20setup/index.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../initial%20setup/index.html#we-ve-got-the-software-now-what">We’ve got the software… now what?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../initial%20setup/index.html#no-setup-required">No setup required</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../git/creating_a_new_project.html">Creating a Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git/grab_existing_project.html">grab an existing project</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Writing and Deploying Code:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code/file_structure.html">File Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/testing_code.html">Testing Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/deploying_code.html">Deploying Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/documentation.html">Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../code/documentation.html#robotpy-and-wpilib">RobotPy and WPILib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/documentation.html#robotpy-toolkit-7407">robotpy-toolkit-7407</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/documentation.html#ctre-and-revrobotics">CTRE and REVRobotics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/documentation.html#limelight">Limelight</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting to Know:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hardware/driverstation.html">Driver station</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hardware/driverstation.html#setup">Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../git/index.html">Git and Github</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html#what-is-it">What is it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html#how-does-our-team-use-it">How does our team use it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../git/index.html#how-do-i-use-it">How do I use it?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../poetry/index.html">Poetry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../poetry/index.html#what-is-it">What is it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../poetry/index.html#why-use-it">Why use it?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../poetry/index.html#poetry-vs-pip-and-virtualenv">Poetry vs Pip and Virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../poetry/index.html#how-to-use-it">How to use it?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#setup">Setup:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#adding-dependencies">Adding dependencies:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#running-your-project">Running your project:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../poetry/index.html#updating-dependencies">Updating dependencies:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../poetry/index.html#how-to-share-your-project-with-others">How to share your project with others?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../poetry/index.html#how-choate-robotics-uses-poetry">How Choate Robotics uses Poetry:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/index.html">Hardware and Electronics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hardware/index.html#system-diagram">System Diagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/index.html#core-components">Core Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#roborio">RoboRIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#pdh">PDH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#pneumatic-hub">Pneumatic Hub</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#can-wires">CAN Wires:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#radio">Radio:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/index.html#motor-controllers">Motor Controllers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#rev-spark-max">Rev Spark Max</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#ctre-falcon-500">CTRE Falcon 500</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/index.html#inputs">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#digital-input">Digital Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#analog-input">Analog Input</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hardware/index.html#vision-processors">Vision Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hardware/index.html#limelight">Limelight</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../networks/networktables.html">Networktables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../networks/networktables.html#communicating-from-the-roborio">Communicating from the RoboRIO:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code/toolkit.html">Toolkit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../code/toolkit.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code/toolkit.html#usage">Usage</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Motion Control Systems:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">PID</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#why-do-we-need-pid-control">Why do we need PID control?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#use-of-pid-in-first-robotics">Use of PID in First Robotics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pid-control-theory">PID Control Theory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#proportional-p">Proportional (P):</a></li>
<li class="toctree-l3"><a class="reference internal" href="#integral-i">Integral (I):</a></li>
<li class="toctree-l3"><a class="reference internal" href="#derivative-d">Derivative (D):</a></li>
<li class="toctree-l3"><a class="reference internal" href="#feed-forward-ff">feed-forward (FF):</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#creating-pid-control-for-first-robotics">Creating PID Control for FIRST Robotics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#find-your-feedback-sensor">Find your feedback sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#find-your-setpoint">Find your setpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#find-your-control-output">Find your control output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-the-pid-controller-class-from-the-wpilib-library">Use the PID controller class from the wpilib library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calculate-the-error-and-set-the-output">Calculate the error and set the output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tuning-the-pid-controller">Tuning the PID Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting-pid-control">Troubleshooting PID Control</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="profiled_pid.html">Profiled PID</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Topics:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code/swerve.html">Swerve Drive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/odometry.html">Odometry</a></li>
</ul>
</div>

  <button
      data-action="sidebar#close"
      title="Close navigation menu"
      class="text-4xl text-gray-800 p-4 bottom-0 hover:text-brand xl:hidden focus:text-brand self-center">
    <span class="sr-only">Close navigation menu</span>
    <svg aria-hidden="true" class="fill-current stroke-current h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
  </button>
</nav>
</aside>

<main
  class="px-4 pt-14 xl:ml-fluid grid-area-main overflow-y-auto flex flex-col flex-1 h-full mx-0 md:mx-auto xl:mr-0"
><nav role="navigation"
     aria-label="breadcrumbs"
     class="print:hidden mt-12 text-sm text-gray-light">
  <a class="text-gray-light text-sm hover:text-gray-dark font-medium focus:text-gray-dark" href="../index.html">Programming Standard Operating Procedure  documentation</a>
  <span class="mr-1">/</span><span aria-current="page">PID Control</span>
</nav>

  <article role="main" class="flex-1 prose">
    
  <section id="pid-control">
<h1>PID Control<a class="headerlink" href="#pid-control" title="Permalink to this heading"><span>#</span></a></h1>
<figure class="align-center">
<img alt="PID Control" src="https://geekeeceebee.com/img/PID_tuning.gif" />
</figure>
<p>PID (Proportional-Integral-Derivative) control is a widely used feedback control algorithm in engineering. It plays a crucial role in maintaining desired setpoints or target values in various systems like motors, including robotics.</p>
<p>PID control is a closed-loop control technique that uses feedback from the system to control the process. It continuously calculates an error value as the difference between a desired setpoint and a measured process variable and applies a correction based on proportional, integral, and derivative terms. The goal is to minimize the error and achieve the desired setpoint as quickly as possible.</p>
<p>PID control is used in a wide range of applications, including robotics, manufacturing, and process control. It is also used in many First Robotics competitions to control various robot functions like motor speed, shooter velocity, and autonomous navigation.</p>
<section id="why-do-we-need-pid-control">
<h2>Why do we need PID control?<a class="headerlink" href="#why-do-we-need-pid-control" title="Permalink to this heading"><span>#</span></a></h2>
<p>PID control is a popular control technique because it is simple, robust, and effective.
It is easy to implement and can be used to control a wide range of systems. It is also very reliable and can handle various disturbances and uncertainties in the system.
Finally, it is very effective at minimizing the error and achieving the desired setpoint quickly.</p>
<p>If PID control was not used in robotics, the robot would not be able to maintain a consistent speed or position and would not be able to perform precise movements, as different external factors would affect the robot’s behavior, like friction, gravity, or other disturbances.</p>
<p>We use PID control in robotics to achieve consistent, presise, and smooth movements, which is crucial for mechanisms that can be easily damaged or require precise control, like arm mechanisms or shooter systems.</p>
</section>
<section id="use-of-pid-in-first-robotics">
<h2>Use of PID in First Robotics<a class="headerlink" href="#use-of-pid-in-first-robotics" title="Permalink to this heading"><span>#</span></a></h2>
<p>First Robotics competitions often rely on PID controllers for precise control of various robot functions. Here’s how PID control is utilized:</p>
<ul class="simple">
<li><p>Motor Control: PID loops can control motor speed or position to achieve consistent robot movements or maintain specific arm or shooter positions.</p></li>
<li><p>Shooter Systems: PID controllers are used to precisely control shooter velocity and angle for accurate object launching.</p></li>
<li><p>Autonomous Navigation: PID control helps the robot navigate to specific positions or follow predefined paths accurately, especially in autonomous modes.</p></li>
<li><p>Stability and Balance: In situations where robots need to balance on platforms or manipulate objects delicately, PID control ensures stability and precise control.</p></li>
</ul>
</section>
<section id="pid-control-theory">
<h2>PID Control Theory<a class="headerlink" href="#pid-control-theory" title="Permalink to this heading"><span>#</span></a></h2>
<section id="proportional-p">
<h3>Proportional (P):<a class="headerlink" href="#proportional-p" title="Permalink to this heading"><span>#</span></a></h3>
<p>The proportional term in a PID controller produces an output value that is proportional to the current error. It results in a control response that reduces the error by a certain factor. Increasing the proportional gain can make the system respond more aggressively but may lead to overshooting the setpoint.</p>
</section>
<section id="integral-i">
<h3>Integral (I):<a class="headerlink" href="#integral-i" title="Permalink to this heading"><span>#</span></a></h3>
<p>The integral term accounts for past errors by summing up the error values over time and applying a correction based on the accumulated error. It eliminates any residual steady-state error and helps the system reach the setpoint accurately.</p>
</section>
<section id="derivative-d">
<h3>Derivative (D):<a class="headerlink" href="#derivative-d" title="Permalink to this heading"><span>#</span></a></h3>
<p>The derivative term anticipates future error by calculating the rate of change of the error over time. It provides a control response to counteract rapid changes in error, preventing overshoot and oscillations.</p>
</section>
<section id="feed-forward-ff">
<h3>feed-forward (FF):<a class="headerlink" href="#feed-forward-ff" title="Permalink to this heading"><span>#</span></a></h3>
<p>feed-forward is a term that is added to the PID controller to compensate for external forces acting on the system, like friction or gravity. It is used to improve the system’s response and achieve the desired setpoint more quickly.</p>
</section>
</section>
<section id="creating-pid-control-for-first-robotics">
<h2>Creating PID Control for FIRST Robotics<a class="headerlink" href="#creating-pid-control-for-first-robotics" title="Permalink to this heading"><span>#</span></a></h2>
<section id="find-your-feedback-sensor">
<h3>Find your feedback sensor<a class="headerlink" href="#find-your-feedback-sensor" title="Permalink to this heading"><span>#</span></a></h3>
<p>The first step in creating a PID controller is to find a sensor that can provide feedback about the system’s current state. The sensor should be able to measure the process variable (PV) or the system’s current state and provide feedback to the controller.
The sensor can be a potentiometer, encoder, or any other device that can measure the system’s current state.</p>
</section>
<section id="find-your-setpoint">
<h3>Find your setpoint<a class="headerlink" href="#find-your-setpoint" title="Permalink to this heading"><span>#</span></a></h3>
<p>The setpoint is the desired value that the system should achieve. It can be a specific position, speed, or any other value that the system needs to maintain.
The setpoint can be a constant value or a variable that changes over time.</p>
</section>
<section id="find-your-control-output">
<h3>Find your control output<a class="headerlink" href="#find-your-control-output" title="Permalink to this heading"><span>#</span></a></h3>
<p>The control output is the value that the PID controller calculates and sends to the system to achieve the desired setpoint.
It can be a voltage, current, or any other value that the system can use to control the process.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The control output should be within the system’s operating range. For example, if the system uses a motor, the control output should be a voltage or current that the motor can handle.
It also needs to be within the sensor’s measurement range. For example, if the sensor is a potentiometer, the control output should be a voltage that the potentiometer can measure.
Finally, it needs to be within the systems’ physical limits. For example, if the system is a robot arm, the control output should be a position that the arm can reach, otherwise the arm will be damaged.</p>
</div>
</section>
<section id="use-the-pid-controller-class-from-the-wpilib-library">
<h3>Use the PID controller class from the wpilib library<a class="headerlink" href="#use-the-pid-controller-class-from-the-wpilib-library" title="Permalink to this heading"><span>#</span></a></h3>
<p>Here is the class and helpful methods that can be used to create a PID controller in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wpilib</span> <span class="kn">import</span> <span class="n">PIDController</span>

<span class="n">pid</span> <span class="o">=</span> <span class="n">PIDController</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.001</span><span class="p">)</span> <span class="c1"># WPIlib PID Controller Class - Takes in P, I, and D values</span>

<span class="n">pid</span><span class="o">.</span><span class="n">setSetpoint</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># Set the desired setpoint</span>

<span class="n">pid</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span> <span class="c1"># Enable the PID controller</span>

<span class="n">pid</span><span class="o">.</span><span class="n">disable</span><span class="p">()</span> <span class="c1"># Disable the PID controller</span>

<span class="n">pid</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span> <span class="c1"># Reset the PID controller to its initial state - Very important to call this before restarting a Command, otherwise the PID controller will continue from the previous Command</span>

<span class="n">pid</span><span class="o">.</span><span class="n">getSetpoint</span><span class="p">()</span> <span class="c1"># Get the current setpoint</span>
</pre></div>
</div>
</section>
<section id="calculate-the-error-and-set-the-output">
<h3>Calculate the error and set the output<a class="headerlink" href="#calculate-the-error-and-set-the-output" title="Permalink to this heading"><span>#</span></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">setpoint</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># Set the desired setpoint</span>

<span class="n">output</span> <span class="o">=</span> <span class="n">pid</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="n">sensor</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span> <span class="n">setpoint</span><span class="p">)</span> <span class="c1"># Calculate the PID output based on the current sensor value</span>

<span class="n">motor</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="c1"># Set the motor output to the PID output</span>
</pre></div>
</div>
<p>Repeat the above step in a loop to continuously calculate the PID output and set the motor output.</p>
</section>
</section>
<section id="tuning-the-pid-controller">
<h2>Tuning the PID Controller<a class="headerlink" href="#tuning-the-pid-controller" title="Permalink to this heading"><span>#</span></a></h2>
<p>Tuning is the process of adjusting the PID controller’s parameters to achieve the desired response.</p>
<p>The PID controller has three parameters: the proportional gain, the integral gain, and the derivative gain.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It may also be necessary to add a feed-forward term to the PID controller to compensate for external forces acting on the system, like friction or gravity.</p>
<p>Not all PID controllers use all three parameters. Some PID controllers only use the proportional and Derivative gain, while others use all three parameters.
In FIRST Robotics, it is rare to use the integral gain, as it can cause the system to overshoot the setpoint and oscillate around it.</p>
</div>
<ol class="arabic">
<li><p>Identify whether the system is affected by a constant external force, like gravity or friction. If so, add a feed-forward term to the PID controller to compensate for the external force.
This value should be a number that is right before the system starts moving. For example, if the system starts moving at 0.1 volts, the feed-forward term should be 0.1 volts.
.. important:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">If</span> <span class="n">your</span> <span class="n">external</span> <span class="n">force</span> <span class="ow">is</span> <span class="n">something</span> <span class="n">like</span> <span class="n">gravity</span><span class="p">,</span> <span class="n">you</span> <span class="n">may</span> <span class="n">need</span> <span class="n">to</span> <span class="n">use</span> <span class="n">a</span> <span class="n">negative</span> <span class="n">feed</span><span class="o">-</span><span class="n">forward</span> <span class="n">term</span> <span class="n">to</span> <span class="n">compensate</span> <span class="k">for</span> <span class="n">the</span> <span class="n">force</span> <span class="n">when</span> <span class="n">traveling</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">opposite</span> <span class="n">direction</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p>Set the integral gain to 0 and the derivative gain to 0. This will make the PID controller act like a proportional controller, which is the simplest type of controller.</p></li>
<li><p>Increase the proportional gain until the system starts to oscillate around the setpoint. This is called the critical gain. The critical gain is the gain at which the system starts to oscillate.</p></li>
<li><p>Increase the derivative gain until the system stops oscillating and reaches the setpoint quickly. This is called the critical damping. The critical damping is the gain at which the system stops oscillating.</p></li>
<li><p>This may be enough to achieve the desired response. If not, increase the integral gain until the system reaches the setpoint accurately. This is called the critical integral gain. The critical integral gain is the gain at which the system reaches the setpoint accurately.</p></li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Some PID controllers may work under different conditions, like when the system is moving or when the setpoint is changing. It is important to test the PID controller under different conditions to ensure that it works properly.</p>
</div>
<section id="troubleshooting-pid-control">
<h3>Troubleshooting PID Control<a class="headerlink" href="#troubleshooting-pid-control" title="Permalink to this heading"><span>#</span></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the system is not responding to the PID controller, check the following:</p>
<ul class="simple">
<li><p>Make sure that the sensor is connected properly and is working correctly.</p></li>
<li><p>Make sure that the control output is within the system’s operating range and is traveling in the correct direction.</p></li>
<li><p>Make sure that the control output is within the sensor’s measurement range.</p></li>
<li><p>Make sure that the control output is within the system’s physical limits.</p></li>
</ul>
</div>
<figure class="align-center">
<img alt="PID Control Troubleshooting Diagram" src="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Fwww.picontrolsolutions.com%2Fproducts%2Fsupertune-fully-automatic-auto-tuning-software%2F&amp;psig=AOvVaw0NiGa6m9k1TEFyP0OFsRTg&amp;ust=1701126304764000&amp;source=images&amp;cd=vfe&amp;opi=89978449&amp;ved=0CBIQjRxqFwoTCKDQ2rrj4oIDFQAAAAAdAAAAABBH" />
</figure>
</section>
</section>
</section>


  </article>

  <footer><div class="mt-20 mb-4 text-sm text-gray-700 print:mt-4">&copy; 2023, Sebastian Plunkett&nbsp;Made with <a class="text-link hover:text-brand focus:text-brand hover:underline focus:underline" href="https://www.sphinx-doc.org">Sphinx 7.1.2</a></div>
  </footer></main>


    <button
  data-search-target="snackbar"
  data-action="search#hideSnackbar"
  class="fixed bottom-0 right-0 z-20 opacity-0 p-4 m-4 tracking-wide bg-gray-900 text-gray-100 transition transform transform-gpu duration-500 translate-y-full"
>
  Clear highlights
</button><div
  data-sidebar-target="screen"
  data-action="click->sidebar#close"
  class="fixed hidden inset-0 bg-black bg-opacity-50">
</div>
  </div>
  
  
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
<script src="../_static/doctools.js?v=888ff710"></script>
<script src="../_static/sphinx_highlight.js?v=4825356b"></script>
<script src="../_static/design-tabs.js?v=36754332"></script>
<script src="../_static/theme.c8991bd7bb6e57cbeea8.js"></script>
  
</body>

</html>